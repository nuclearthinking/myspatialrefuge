---
alwaysApply: true
---

# GitHub Issues Tool

When working with GitHub issues for this project, use the `githubissues` CLI tool.

## Installation

Install as a global tool with uv:

```bash
uv tool install "c:\Users\onifent\Documents\projects\mod_utils\github"
```

Or reinstall/update:

```bash
uv tool install --force "c:\Users\onifent\Documents\projects\mod_utils\github"
```

## How to Run

The tool is installed as `githubissues` command:

```bash
githubissues <command> [options] --output json
```

## Available Commands

| Command | Usage | Description |
|---------|-------|-------------|
| `list` | `githubissues list --output json` | List open issues |
| `view` | `githubissues view <N> --output json` | View issue details |
| `create` | `githubissues create --title "..." --body "..." --output json` | Create new issue |
| `close` | `githubissues close <N> --output json` | Close an issue |
| `reopen` | `githubissues reopen <N> --output json` | Reopen issue |
| `comment` | `githubissues comment <N> --body "..." --output json` | Add comment |
| `edit` | `githubissues edit <N> --title "..." --output json` | Edit issue |
| `search` | `githubissues search "query" --output json` | Search issues |
| `labels` | `githubissues labels --output json` | List labels |
| `schema` | `githubissues schema` | Get full tool schema |

## Important Options

- `--output json` or `-o json` — Always use for machine-readable output
- `--state open|closed|all` — Filter issues by state
- `--labels "bug,feature"` — Filter by labels (comma-separated)
- `--comments` or `-c` — Include comments when viewing issue
- `--type bug|feature|task` — Use template when creating (auto-adds prefix like `[Bug]`)
- `--body-file` or `-f` — Read body from file (preserves backticks, recommended for code)
- `--stdin` — Read body from stdin (comment command only)

## Handling Code Blocks and Backticks

**Problem:** PowerShell uses backticks (`) as escape characters, which breaks inline code formatting.

**Solution:** Use `--body-file` to read content from a file:

```bash
# Create a temp file with proper markdown
# Then use --body-file to preserve backticks

githubissues comment 42 --body-file comment.md --output json
githubissues create --title "Bug" --body-file body.md --output json
githubissues edit 42 --body-file updated_body.md --output json
```

This bypasses shell escaping and preserves all markdown formatting including:
- Inline code: `` `functionName()` ``
- Code blocks: ` ```java ... ``` `

## Examples

```bash
# List all open issues
githubissues list --state open --output json

# View issue #42 with comments
githubissues view 42 --comments --output json

# Create a bug report
githubissues create --type bug --title "Login fails" --body "Error when..." --output json

# Search for multiplayer issues
githubissues search "multiplayer" --state open --output json

# Close issue with comment
githubissues close 42 --comment "Fixed in commit abc123" --output json

# Edit issue title and add label
githubissues edit 42 --title "New title" --add-labels "priority-high" --output json
```

## Best Practices

1. Always use `--output json` for parsing results
2. Use `schema` command if you need to check available options
3. When creating issues, use `--type` for structured templates
4. Check `status` first if authentication issues occur
5. Ensure GitHub CLI (`gh`) is installed and authenticated: `gh auth login`

## How to Properly Report Issues

### Issue Structure

**Good Title Format:**

When using `--type`, do NOT include the prefix (it's added automatically):
- `--type bug --title "Player can't plumb rain barrels"` → `[Bug] Player can't plumb rain barrels`
- `--type feature --title "Add custom water storage"` → `[Feature] Add custom water storage`
- `--type task --title "Implement IsoBuilding"` → `[Task] Implement IsoBuilding`

Without `--type`, include the prefix manually:
- `--title "[Bug] Player can't plumb rain barrels"`

**Body Structure:**
Use proper markdown sections with actual newlines (not `\n` escape sequences):

```bash
# Note: --type bug automatically adds [Bug] prefix, don't include it in title
githubissues create \
  --type bug \
  --title "Cannot plumb sinks in refuge" \
  --body "## Description

The plumbing context menu does not appear for sinks inside the spatial refuge.

## Steps to Reproduce

1. Enter spatial refuge
2. Place a sink and rain barrel
3. Right-click on sink
4. Plumbing option is missing

## Expected Behavior

Should see plumbing options like in normal buildings.

## Technical Details

- Game version: 41.78.16
- Mod version: 1.0.0
- Multiplayer: Yes/No" \
  --output json
```

### Formatting Tips

**✅ DO:**
- Use actual newlines in body text (multiline strings in shell)
- Include clear sections: Description, Steps to Reproduce, Expected Behavior
- Add technical context (versions, multiplayer, related code files)
- Reference related issues with `#number`
- Use markdown formatting (headers, lists, code blocks)
- Add evidence (error logs, screenshots, code snippets)

**❌ DON'T:**
- Don't use `\n` escape sequences - they render as literal text
- Don't create vague titles like "Bug" or "Fix this"
- Don't skip reproduction steps for bugs
- Don't forget to specify priority/impact for critical issues

### For Bug Reports

Include:
1. **Clear description** of what's broken
2. **Steps to reproduce** (numbered list)
3. **Expected vs actual behavior**
4. **Root cause** if known (especially for technical users)
5. **Workarounds** if any exist
6. **Impact on players** (critical/high/medium/low)

### For Feature Requests

Include:
1. **Problem statement** - what need does this address?
2. **Proposed solution** - how should it work?
3. **Implementation approach** - technical details
4. **Benefits** - why is this valuable?
5. **Complexity estimate** - rough development time

### For Technical Issues

Include:
1. **Root cause analysis** - what's causing the problem?
2. **Affected systems** - what code/features are impacted?
3. **Solution options** - multiple approaches with pros/cons
4. **Recommended approach** - which solution is best and why?
5. **Related issues** - link to dependencies or blockers

### Editing Issues

If formatting is broken after creation, fix it with `edit`:

```bash
githubissues edit 12 --body "## Properly Formatted

This text has actual newlines and renders correctly on GitHub.

### Sections Work

- Lists work
- Code formatting works" --output json
```